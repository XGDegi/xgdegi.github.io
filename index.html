<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Official Spotipy Ads</title>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5267667501016077"
            crossorigin="anonymous"></script>
    <style>
        #error-message {
            display: none;
            color: red;
            text-align: center;
            margin-top: 20px;
        }

        #ad-container {
            display: block;
            width: 100%;
            height: auto;
            min-height: 50px; /* Minimum height for ad space */
        }

        #bait {
            width: 1px;
            height: 1px;
            position: absolute;
            left: -9999px;
        }
    </style>
</head>
<body>
    <!-- AdSense ad unit -->
    <div id="ad-container">
        <ins class="adsbygoogle"
             style="display:block"
             data-ad-client="ca-pub-5267667501016077"
             data-ad-slot="1234567890"
             data-ad-format="auto"></ins>
        <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
    </div>

    <!-- Bait element to detect ad blockers -->
    <div id="bait" class="adsbygoogle"></div>

    <!-- Placeholder for the thank you message -->
    <div id="thank-you" style="display:none; text-align:center; margin-top:20px;">
        <h1>Thank You!</h1>
    </div>

    <!-- Placeholder for the error message -->
    <div id="error-message">
        <h1>Error: Ad Blocker Detected</h1>
        <p>Please disable your ad blocker to view the content.</p>
    </div>

    <script>
        // Function to detect ad blocker
        function detectAdBlocker() {
            const bait = document.getElementById('bait');
            const adContainer = document.getElementById('ad-container');

            // If bait element is not found or has been hidden by an ad blocker
            if (!bait || bait.offsetParent === null || bait.offsetHeight === 0) {
                // Ad blocker is likely active
                adContainer.style.display = 'none';
                document.getElementById('thank-you').style.display = 'none';
                document.getElementById('error-message').style.display = 'block';
            } else {
                // No ad blocker detected, proceed as usual
                setTimeout(function() {
                    // Hide the ad container after 15 seconds
                    adContainer.style.display = 'none';
                    // Show the thank you message
                    document.getElementById('thank-you').style.display = 'block';
                }, 15000); // 15000 milliseconds = 15 seconds
            }
        }

        // Run ad blocker detection after the ad script loads
        window.onload = function() {
            detectAdBlocker();
        };
    </script>
</body>
</html>
